<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="https://www.gstatic.com/firebasejs/4.11.0/firebase.js"></script>
    <script>
      // Initialize Firebase
      var config = {
        apiKey: "AIzaSyBX9d_NmxSAUMwSt4w7dDkel1hk_3eTiRw",
        authDomain: "marcus-at-uni.firebaseapp.com",
        databaseURL: "https://marcus-at-uni.firebaseio.com",
        projectId: "marcus-at-uni",
        storageBucket: "marcus-at-uni.appspot.com",
        messagingSenderId: "47512234516"
      };
      firebase.initializeApp(config);
    </script>   
    <script src="https://cdn.firebase.com/libs/firebaseui/2.5.1/firebaseui.js"></script>
    <link type="text/css" rel="stylesheet" href="https://cdn.firebase.com/libs/firebaseui/2.5.1/firebaseui.css" />  

    <title>Marcus At uni Admin Page</title>
</head>
<body>
  <div id="adminLogin">
  
      <h2>Should you be here?</h2>
      <input id="email" type="text"></input>
      <input id="pass" type="password"></input>
      <button id="login">Login</button>

  </div>


  <div id="adminHome" style="display:none;">
   <h1>hi friend</h1>
   <button id="newRecipe">Add Recipe</button>
  </div>

  <div id="newRecipeView" style="display:none">
    <h1>hi even bigger friend</h1>
    <form>
      <h4>Name:<input id="recipeName" type="text" placeholder="Recipe Name"></input></h4>
      <h4>Price:<select>
        <option value="£">£</option>
        <option value="££">££</option>
        <option value="£££">£££</option>
        <option value="££££">££££</option>
      </select></h4>
      <h4>Ingredients:</h4>
        <input type="text" id="ingOne" placeholder="Ingredient 1"></input></br>
        <input type="text" id="ingTwo" placeholder="Ingredient 2"></input></br>
        <input type="text" id="ingThree" placeholder="Ingredient 3"></input></br>
        <input type="text" id="ingFour" placeholder="Ingredient 4"></input></br>
      <h4>Steps:</h4>
      <input type="text" id="stepOne" placeholder="Step 1"></input></br>  
      <input type="text" id="stepTwo" placeholder="Step 2"></input></br>
      <input type="text" id="stepThree" placeholder="Step 3"></input></br>
      <input type="text" id="stepFour" placeholder="Step 4"></input></br>
    </form>

  </div>

  <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.0.4/socket.io.js"></script>


  <script>
    var socket = io();

    var login = document.getElementById('login');
    var email = document.getElementById('email');
    var pass = document.getElementById('pass');
    var loginScreen = document.getElementById('adminLogin');
    var adminHome = document.getElementById('adminHome');

    login.onclick = function(){
         socket.emit('join',{name:email.value,pass:pass.value});
       }

    socket.on('loginResponse', function(data){
      if(data.success){
        loginScreen.style.display = 'none';
        adminHome.style.display = 'inline';
      } else 
        alert("unsuccessful");
    });

    //adding Recipes
    var newRecipe = document.getElementById('newRecipe');
    var newRecipeView = document.getElementById('newRecipeView')

    newRecipe.onclick = function(){
      adminHome.style.display = 'none';
      newRecipeView.style.display = 'inline';
    }

    var recipeName = document.getElementById('recipeName');
    

    //ingredients varibles
    var ingOne = document.getElementById('ingOne');
    var ingTwo = document.getElementById('ingTwo');
    var ingThree = document.getElementById('ingThree');
    var ingFour = document.getElementById('ingFour');

    //steps variables
    var stepOne = document.getElementById('stepOne');
    var stepTwo = document.getElementById('stepTwo');
    var stepThree = document.getElementById('stepThree');
    var stepFour = document.getElementById('stepFour');


    addRecipeTodatabase.onclick = function(){
      socket.emit('AddRecipe',{name:recipeName.value,ingOne:ingOne.value,ingTwo:ingTwo.value,stepOne:stepOne.value,})
    }


  </script>

</body>
</html>